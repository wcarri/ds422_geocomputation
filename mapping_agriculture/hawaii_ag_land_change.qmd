---
editor_options: 
  markdown: 
    wrap: 72
---

# Exploring Agricultural Land Use Change in Hawai ªi (2015 ‚Üí 2020)

**DS422 ‚Äî Geocomputation in R**

In this mini-project, you will explore how agricultural land use has
changed across Hawai ªi between 2015 and 2020, using openly available
geospatial datasets from the Hawai ªi Statewide GIS Program. You will
create maps, conduct spatial comparisons, and communicate changes in
land use through engaging and informative visual storytelling.

------------------------------------------------------------------------

## ‚úÖ Data

Download the GeoJSON files and place both in your `data/` folder in your
**DS422-Geocomputation** project:

| Year | Dataset | Link |
|---------------------|-------------------------------|---------------------|
| 2015 | Agricultural Land Use Baseline | <https://geoportal.hawaii.gov/datasets/HiStateGIS>::agricultural-land-use-2015-baseline/about |
| 2020 | Hawai ªi Agricultural Lands | <https://geoportal.hawaii.gov/items/342ee6c7547f45ddbfc07caf4ca2887d> |

------------------------------------------------------------------------

## ‚úÖ Software Tools You May Want to Use

Mapping & Visualization: -
[`mapview`](https://r-spatial.github.io/mapview/) ‚Äî fast interactive
mapping - [`mapgl`](https://r-spatial.github.io/mapgl/) ‚Äî advanced
vector tile maps - [`tmap`](https://cran.r-project.org/package=tmap) ‚Äî
powerful thematic mapping -
[`leaflet`](https://rstudio.github.io/leaflet/) ‚Äî interactive web
mapping - [`ggplot2`](https://ggplot2.tidyverse.org/) ‚Äî
publication-quality mapping with `geom_sf()`

Data Wrangling & Tables: - [`dplyr`](https://dplyr.tidyverse.org/) -
[`tidyr`](https://tidyr.tidyverse.org/) -
[`readr`](https://readr.tidyverse.org/) -
[`sf`](https://r-spatial.github.io/sf/) ‚Äî essential for spatial data
handling

Color & Classification: -
[`RColorBrewer`](https://cran.r-project.org/package=RColorBrewer) -
[`viridis`](https://cran.r-project.org/package=viridis) -
[`classInt`](https://cran.r-project.org/package=classInt)

Flow Visualization: -
[`ggalluvial`](https://corybrunson.github.io/ggalluvial/) ‚Äî Sankey-style
flows - [`networkD3`](https://christophergandrud.github.io/networkD3/) ‚Äî
interactive flow diagrams

Popups & Interactivity: -
[`leafpop`](https://r-spatial.github.io/leafpop/)

You do *not* need to use all of these ‚Äî just explore what supports your
creative ideas.

------------------------------------------------------------------------

## ‚úÖ Questions to Inspire You

Pick a few that interest you ‚Äî or create your own!

### üó∫Ô∏è Cartographic Design

-   What is the **highest-quality map** you can create with this data?
-   How can you improve user experience with:
    -   styling, legends, labeling, basemaps, accessibility?

### üå± Change in Agricultural Land

-   Is there **more or less** agricultural land in 2020 compared to
    2015?
-   How much did agricultural acreage change **overall**?
-   Which islands gained or lost the most?
-   What is the **percent change** in total agricultural land?

### üå∫ Crop Type Changes

-   Which specific crop categories **increased or decreased** the most?
-   Can you align crop names between 2015 and 2020 to make valid
    comparisons?
-   Can you represent crop transitions with a **Sankey diagram**?

### üó∫Ô∏è Spatial Change Detection

-   Where did land shift **into** agriculture?
-   Where did agriculture convert to **other uses**?
-   Can you produce a **gain/loss** map of agricultural land?
-   Can you map specific crop conversions (e.g., Coffee ‚Üí Pasture)?

------------------------------------------------------------------------

## ‚≠ê Creative Expansion Ideas

These are optional, but may spark ideas: - Compare **island-level** land
use change - Create a **story map** or interactive dashboard - Add
**contextual layers** such as roads or county boundaries - Focus on one
island to provide a **deep spatial narrative** - Provide **policy or
environmental implications** of these changes

------------------------------------------------------------------------

## üéØ Deliverable

Your mini-presentation should: ‚úÖ Ask an interesting question\
‚úÖ Analyze change over time and space\
‚úÖ Include at least one map and one additional visual\
‚úÖ Clearly explain why your findings matter

üìå During the **last 20 minutes of class**, each student will: - Share
their screen - Present **for 2 minutes** - Show the **map(s)** and
**insights** they are most proud of

------------------------------------------------------------------------

## üß† Your Turn

You are encouraged to: - Explore - Experiment

Tell a spatial story!

Agricultural land in Hawai ªi is changing ‚Äî

**What can you reveal about *how* and *why*?**

## üì¶ Packages

```{r}
library(sf)
library(tmap)
library(mapview)
library(dplyr)
library(RColorBrewer)
```

```{r}
agri2020 <- st_read("data/Agricultural_Land_Use_-_2020_Update.geojson")
```

```{r}
agri2015 <- st_read("data/Agricultural_Land_Use_-_2015_Baseline.geojson")
```

## üìä Data Notes

::: {.callout-tip icon="üí°"}
Columns found once files were read in:

-   ObjectID
-   Crops
-   Island
-   Acres
-   ST Shapes (Area and Perimeter)
-   Geometry
:::

```{r}
mapview(agri2020, zcol = "crops_2020", legend = TRUE)
```

### üå∫ Crop Types and their Changes

My hypothesis - pineapples are the most grown crop in Hawaii. True or
false? Does it vary between 2015 and 2020?

```{r}
# Rename crop category columns
agri2015 <- agri2015 %>%
  rename(crop = cropcatego)

agri2020 <- agri2020 %>%
  rename(crop = crops_2020)
```

```{r}
# Summarize by crop
crops_2015 <- agri2015 %>%
  st_drop_geometry() %>%
  group_by(crop) %>%
  summarize(acres_2015 = sum(acreage, na.rm = TRUE))

crops_2020 <- agri2020 %>%
  st_drop_geometry() %>%
  group_by(crop) %>%
  summarize(acres_2020 = sum(acreage, na.rm = TRUE))

```

```{r}
# Combine and compute change
library(tidyr)
crop_change <- full_join(crops_2015, crops_2020, by = "crop") %>%
  mutate(acres_2015 = replace_na(acres_2015, 0),
         acres_2020 = replace_na(acres_2020, 0),
         change = acres_2020 - acres_2015,
         percent_change = 100 * change / acres_2015)
```

```{r}
crop_change %>%
  arrange(desc(acres_2020)) %>%
  head(20)
```
